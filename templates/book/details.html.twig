{% extends 'base.html.twig' %}

{% block title %}Hello BookController!{% endblock %}

{% block body %}

<div class="example-wrapper" xmlns="http://www.w3.org/1999/html">
    <h1>{{ book.title }} ({{ book.state }})</h1>
    <ul>
        <li>ISBN: {{ book.isbn }}</li>
        <li>Released: {{ book.releasedAt|date('d/m/Y') }}</li>
        <li>Plot: {{ book.plot }}</li>
    </ul>

    {% if workflow_can(book, 'to_available') %}
    <a href="{{ path('app_book_details_state', {id: book.id, transition: 'to_available' }) }}"/>To available</a>
    {% endif %}
    {% if workflow_can(book, 'to_borrowed') %}
    <a href="{{ path('app_book_details_state', {id: book.id, transition: 'to_borrowed'}) }}"/>To borrowed</a>
    {% endif %}
    {% if workflow_can(book, 'to_waiting') %}
    <a href="{{ path('app_book_details_state', {id: book.id, transition: 'to_waiting'}) }}"/>To waiting</a>
    {% endif %}


</div>
{% endblock %}
